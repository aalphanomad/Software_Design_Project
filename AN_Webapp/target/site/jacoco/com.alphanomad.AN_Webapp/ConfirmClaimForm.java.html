<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ConfirmClaimForm.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">AN_Webapp</a> &gt; <a href="index.source.html" class="el_package">com.alphanomad.AN_Webapp</a> &gt; <span class="el_source">ConfirmClaimForm.java</span></div><h1>ConfirmClaimForm.java</h1><pre class="source lang-java linenums">package com.alphanomad.AN_Webapp;

import javax.servlet.annotation.WebServlet;
import com.vaadin.annotations.Theme;
import com.vaadin.annotations.VaadinServletConfiguration;
import com.vaadin.icons.VaadinIcons;
import com.vaadin.navigator.View;
import com.vaadin.server.ExternalResource;
import com.vaadin.server.Page;
import com.vaadin.server.Page.UriFragmentChangedListener;
import com.vaadin.shared.ui.ContentMode;
import com.vaadin.server.UserError;
import com.vaadin.server.VaadinRequest;
import com.vaadin.server.VaadinServlet;
import com.vaadin.ui.Alignment;
import com.vaadin.ui.Button;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.DateField;
import com.vaadin.ui.DateTimeField;
import com.vaadin.ui.FormLayout;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.Image;
import com.vaadin.ui.Label;
import com.vaadin.ui.Notification;
import com.vaadin.ui.Panel;
import com.vaadin.ui.PasswordField;
import com.vaadin.ui.Notification.Type;
import com.vaadin.ui.TextField;
import com.vaadin.ui.UI;
import com.vaadin.ui.VerticalLayout;

public class ConfirmClaimForm extends VerticalLayout implements View {
	public static String name, studnum, course, activity, date, venue, startTime, endTime;
<span class="fc" id="L34">	public static String[] array = new String[8];</span>
	
<span class="fc" id="L36">	String  ans1=null;</span>
<span class="fc" id="L37">	String ans2=null;</span>
	
<span class="fc" id="L39">	public ConfirmClaimForm(String str1, String str2, String str3, String str4, String str5, String str6, String str7, String str8){</span>
		
<span class="fc" id="L41">		removeAllComponents();</span>
		
<span class="fc" id="L43">		Panel panel=new Panel();</span>
<span class="fc" id="L44">	  	panel.setHeight(&quot;500px&quot;);</span>
<span class="fc" id="L45">	  	panel.setWidthUndefined();</span>
<span class="fc" id="L46">	  	addComponent(panel);</span>
<span class="fc" id="L47">	  	setComponentAlignment(panel,Alignment.MIDDLE_CENTER);</span>
	  	
<span class="fc" id="L49">	  	FormLayout content=new FormLayout();</span>
<span class="fc" id="L50">	  	content.addStyleName(&quot;Template&quot;);</span>
<span class="fc" id="L51">	  	content.setMargin(true);</span>
<span class="fc" id="L52">	  	Label test=new Label(&quot;&lt;p style = \&quot;font-family:georgia,garamond,serif;font-size:30px;\&quot;&gt;\r\n&quot; + </span>
	  	  		&quot;       &lt;b&gt;&lt;u&gt;Confirm Your Claim&lt;/u&gt;&lt;/b&gt; &quot; + 
	  	  		&quot;      &lt;/p&gt;&quot; ,ContentMode.HTML);
<span class="fc" id="L55">	  	 content.addComponent(test);</span>
		
        
<span class="fc" id="L58">        name = str1;</span>
<span class="fc" id="L59">        studnum = str2;</span>
<span class="fc" id="L60">        course = str3;</span>
<span class="fc" id="L61">        activity = str4;</span>
<span class="fc" id="L62">        venue = str5;</span>
<span class="fc" id="L63">        date = str6;</span>
<span class="fc" id="L64">        startTime = str7;</span>
<span class="fc" id="L65">        endTime = str8;</span>
        
<span class="fc" id="L67">        array[0] = name;</span>
<span class="fc" id="L68">        array[1] = studnum;</span>
<span class="fc" id="L69">        array[2] = date;</span>
<span class="fc" id="L70">        array[3] = course;</span>
<span class="fc" id="L71">        array[4] = venue;</span>
<span class="fc" id="L72">        array[5] = startTime;</span>
<span class="fc" id="L73">        array[6] = endTime;</span>
<span class="fc" id="L74">        array[7] = activity;</span>
        
<span class="fc" id="L76">        Label label1 = new Label();</span>
<span class="fc" id="L77">        label1.setCaption(&quot;Name: &quot; + name);</span>
<span class="fc" id="L78">        content.addComponent(label1);</span>
        
<span class="fc" id="L80">        Label label2 = new Label();</span>
<span class="fc" id="L81">        label2.setCaption(&quot;Student No: &quot; + studnum);</span>
<span class="fc" id="L82">        content.addComponent(label2);</span>
        
<span class="fc" id="L84">        Label label3 = new Label();</span>
<span class="fc" id="L85">        label3.setCaption(&quot;Course Tutored: &quot; + course);</span>
<span class="fc" id="L86">        content.addComponent(label3);</span>
        
<span class="fc" id="L88">        Label label4 = new Label();</span>
<span class="fc" id="L89">        label4.setCaption(&quot;Type of Activity: &quot; + activity);</span>
<span class="fc" id="L90">        content.addComponent(label4);</span>
        
<span class="fc" id="L92">        Label label5 = new Label();</span>
<span class="fc" id="L93">        label5.setCaption(&quot;Venue: &quot; + venue);</span>
<span class="fc" id="L94">        content.addComponent(label5);</span>
        
<span class="fc" id="L96">        Label label6 = new Label();</span>
<span class="fc" id="L97">        label6.setCaption(&quot;Date: &quot; + date);</span>
<span class="fc" id="L98">        content.addComponent(label6);</span>
        
<span class="fc" id="L100">        Label label7 = new Label();</span>
<span class="fc" id="L101">        label7.setCaption(&quot;Time: &quot; + startTime + &quot; - &quot; + endTime);</span>
<span class="fc" id="L102">        content.addComponent(label7);</span>
        
        
        
<span class="fc" id="L106">        String ok = name + studnum;</span>
<span class="fc" id="L107">        String qr = name + &quot;,&quot; + studnum + &quot;,&quot; + course + &quot;,&quot; + activity + &quot;,&quot; + venue + &quot;,&quot; + date + &quot;,&quot; + startTime + &quot;,&quot; + endTime;</span>
<span class="fc" id="L108">        Image sample = new Image();</span>
<span class="fc" id="L109">        sample.setSource(new ExternalResource(</span>
                &quot;http://api.qrserver.com/v1/create-qr-code/?data=&quot; + qr + &quot;&amp;size=200x200&quot;));
        
<span class="pc" id="L112">        Button generate = new Button(&quot;Generate&quot;, event -&gt;addComponent(sample));</span>
<span class="fc" id="L113">        addComponent(generate);</span>
        
<span class="fc" id="L115">        Button home_button = new Button(&quot;Home&quot;,</span>
<span class="nc" id="L116">	            event -&gt; getUI().getNavigator().navigateTo(&quot;tutormain&quot;));</span>
<span class="fc" id="L117">        addComponent(home_button);</span>
        
		 
		  
<span class="fc" id="L121">		   TextField LecturerUsername=new TextField();</span>
<span class="fc" id="L122">		   LecturerUsername.setIcon(VaadinIcons.USER);</span>
<span class="fc" id="L123">		   LecturerUsername.setCaption(&quot;Lecturer Username&quot;); </span>
<span class="fc" id="L124">		   LecturerUsername.setPlaceholder(&quot;Username&quot;);</span>
<span class="fc" id="L125">		   addComponent(LecturerUsername);</span>
		
		  
<span class="fc" id="L128">		  TextField LecturerPassword=new PasswordField();</span>
<span class="fc" id="L129">		  LecturerPassword.setCaption(&quot;Lecturer Password&quot;);</span>
<span class="fc" id="L130">		  LecturerPassword.setIcon(VaadinIcons.PASSWORD);</span>
<span class="fc" id="L131">		  LecturerPassword.setPlaceholder(&quot;Password&quot;);</span>
<span class="fc" id="L132">		  addComponent(LecturerPassword);</span>
		  
<span class="fc" id="L134">		  DBHelper dbh1=new DBHelper();</span>
<span class="fc" id="L135">		  String[] params1= {&quot;student_num&quot;,&quot;password&quot;};</span>
		  
<span class="fc" id="L137">		  Notification notification=new Notification(&quot;Claim Validated, Go home now&quot;);</span>
		  
<span class="fc" id="L139">		  Button validate = new Button(&quot;Validate&quot;,</span>
		  event -&gt; {
<span class="nc" id="L141">			  	String[] values1= { LecturerUsername.getValue(), LecturerPassword.getValue()};</span>
<span class="nc" id="L142">			  	ans1=dbh1.php_request(&quot;is_lecturer&quot;,params1,values1);</span>
			  	
<span class="nc" id="L144">				String[] part1=ans1.split(&quot;:&quot;);</span>
<span class="nc" id="L145">				String FinalAns=part1[1].substring(1,2);</span>
				
<span class="nc bnc" id="L147" title="All 2 branches missed.">				if(FinalAns.equals(&quot;0&quot;)) {</span>
<span class="nc" id="L148">					String[] params2 = {&quot;name&quot;,&quot;student_num&quot;,&quot;course&quot;, &quot;date&quot;, &quot;venue&quot;} ;</span>
<span class="nc" id="L149">					String[] values2= {name,studnum, course, date, venue};</span>
<span class="nc" id="L150">					ans2=dbh1.php_request(&quot;verify&quot;, params2, values2);		</span>
<span class="nc" id="L151">					notification.show(Page.getCurrent());</span>
<span class="nc" id="L152">				}</span>
				
				else {
<span class="nc" id="L155">					LecturerUsername.setComponentError(new UserError(&quot;Only Lecturers are permitted to validate.&quot;));</span>
<span class="nc" id="L156">					LecturerPassword.setComponentError(new UserError(&quot;Only Lecturers are permitted to validate.&quot;));</span>
		
          		}
<span class="nc" id="L159">		          			});</span>
<span class="fc" id="L160">		  addComponent(validate);</span>
		  
		
<span class="fc bfc" id="L163" title="All 2 branches covered.">		for(int i=0; i&lt;array.length; i++) {</span>
<span class="fc" id="L164">		  System.out.println(array[i]);</span>
		}
		  
<span class="fc" id="L167">        panel.setContent(content);</span>
<span class="fc" id="L168">	}</span>
	
	public static String getName() {
<span class="nc" id="L171">		return name;</span>
	}
	
	public static String getStud() {
<span class="nc" id="L175">		return studnum;</span>
	}
	
	public static String getCourse() {
<span class="nc" id="L179">		return course;</span>
	}
	
	public static String getActivity() {
<span class="nc" id="L183">		return activity;</span>
	}
	
	public static String getDate() {
<span class="nc" id="L187">		return date;</span>
	}
	
	public static String getVenue() {
<span class="nc" id="L191">		return venue;</span>
	}
	
	public static String getStart() {
<span class="nc" id="L195">		return startTime;</span>
	}
	
	public static String getEnd() {
<span class="nc" id="L199">		return endTime;</span>
	}
	



}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>