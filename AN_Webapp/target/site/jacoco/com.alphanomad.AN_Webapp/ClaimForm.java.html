<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ClaimForm.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">AN_Webapp</a> &gt; <a href="index.source.html" class="el_package">com.alphanomad.AN_Webapp</a> &gt; <span class="el_source">ClaimForm.java</span></div><h1>ClaimForm.java</h1><pre class="source lang-java linenums">package com.alphanomad.AN_Webapp;

import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.time.Duration;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.Date;

import javax.servlet.annotation.WebServlet;

import com.google.gson.JsonObject;
import com.vaadin.annotations.Theme;
import com.vaadin.annotations.VaadinServletConfiguration;
import com.vaadin.navigator.Navigator;
import com.vaadin.navigator.View;
import com.vaadin.navigator.ViewChangeListener.ViewChangeEvent;
import com.vaadin.server.Page;
import com.vaadin.server.UserError;
import com.vaadin.server.VaadinRequest;
import com.vaadin.server.VaadinServlet;
import com.vaadin.shared.ui.ContentMode;
import com.vaadin.ui.Alignment;
import com.vaadin.ui.Button;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.DateField;
import com.vaadin.ui.DateTimeField;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.Label;
import com.vaadin.ui.Notification;
import com.vaadin.ui.Notification.Type;
import com.vaadin.ui.TextField;
import com.vaadin.ui.UI;
import com.vaadin.ui.VerticalLayout;

public class ClaimForm extends VerticalLayout implements View {
	String course;
	String venue;
	String activity;

	String[] AllInfo;
	static JsonObject filtered;
	static DBHelper dbh;

	Booking b;
	ConfirmClaimForm c;

	public static ArrayList&lt;String&gt; GetCourses(String FromDB) {

		// Notification.show(ans);
<span class="fc" id="L52">		ArrayList&lt;String&gt; new_courses = new ArrayList&lt;String&gt;();</span>

<span class="fc" id="L54">		String[] courses1 = FromDB.split(&quot;,&quot;);</span>
<span class="fc bfc" id="L55" title="All 2 branches covered.">		for (int i = 0; i &lt; courses1.length; i++) {</span>
<span class="fc" id="L56">			String[] courses2 = courses1[i].split(&quot;:&quot;);</span>
<span class="fc bfc" id="L57" title="All 2 branches covered.">			if (i == courses1.length - 1) {</span>
<span class="pc bpc" id="L58" title="1 of 2 branches missed.">				if (!courses2[1].substring(0, courses2[1].length() - 2).equals(&quot;null&quot;)) {</span>
<span class="fc" id="L59">					new_courses.add(courses2[1].substring(1, courses2[1].length() - 3));</span>

				}
			} else {
<span class="fc bfc" id="L63" title="All 2 branches covered.">				if (!courses2[1].equals(&quot;null&quot;))</span>
<span class="fc" id="L64">					new_courses.add(courses2[1].substring(1, courses2[1].length() - 1));</span>
			}
		}
<span class="fc" id="L67">		return new_courses;</span>
	}

	public static String Course_corr(String course_code) {
<span class="fc" id="L71">		String ans = null;</span>
<span class="pc bpc" id="L72" title="1 of 18 branches missed.">		switch (course_code) {</span>
		case &quot;COMS1015&quot;:
<span class="fc" id="L74">			ans = &quot;(Basic Computer Organisation)&quot;;</span>
<span class="fc" id="L75">			break;</span>
		case &quot;COMS1018&quot;:
<span class="fc" id="L77">			ans = &quot;(Introduction to Algorithms and Programming)&quot;;</span>
<span class="fc" id="L78">			break;</span>
		case &quot;COMS1017&quot;:
<span class="fc" id="L80">			ans = &quot;(Introduction to Data Structures and Algorithms)&quot;;</span>
<span class="fc" id="L81">			break;</span>
		case &quot;COMS1016&quot;:
<span class="fc" id="L83">			ans = &quot;(Discrete Computational Structures)&quot;;</span>
<span class="fc" id="L84">			break;</span>
		case &quot;COMS2002&quot;:
<span class="fc" id="L86">			ans = &quot;(Database Fundamentals)&quot;;</span>
<span class="fc" id="L87">			break;</span>
		case &quot;COMS2013&quot;:
<span class="fc" id="L89">			ans = &quot;(Mobile Computing)&quot;;</span>
<span class="fc" id="L90">			break;</span>
		case &quot;COMS2014&quot;:
<span class="fc" id="L92">			ans = &quot;(Computer Networks)&quot;;</span>
<span class="fc" id="L93">			break;</span>
		case &quot;COMS2015&quot;:
<span class="fc" id="L95">			ans = &quot;(Analysis of Algorithms)&quot;;</span>
<span class="fc" id="L96">			break;</span>
		case &quot;COMS3002&quot;:
<span class="fc" id="L98">			ans = &quot;(Software Engineering)&quot;;</span>
<span class="fc" id="L99">			break;</span>
		case &quot;COMS3003&quot;:
<span class="fc" id="L101">			ans = &quot;(Formal Languages and Automata)&quot;;</span>
<span class="fc" id="L102">			break;</span>
		case &quot;COMS3005&quot;:
<span class="fc" id="L104">			ans = &quot;(Advanced Analysis of Algorithms)&quot;;</span>
<span class="fc" id="L105">			break;</span>
		case &quot;COMS3009&quot;:
<span class="fc" id="L107">			ans = &quot;(Software Design)&quot;;</span>
<span class="fc" id="L108">			break;</span>
		case &quot;COMS3010&quot;:
<span class="fc" id="L110">			ans = &quot;(Operating Systems and System Programming)&quot;;</span>
<span class="fc" id="L111">			break;</span>
		case &quot;COMS3007&quot;:
<span class="fc" id="L113">			ans = &quot;(Machine Learning)&quot;;</span>
<span class="fc" id="L114">			break;</span>
		case &quot;COMS3006&quot;:
<span class="fc" id="L116">			ans = &quot;(Computer Graphics and Visualisation)&quot;;</span>
<span class="fc" id="L117">			break;</span>
		case &quot;COMS3008&quot;:
<span class="fc" id="L119">			ans = &quot;(Parallel Computing)&quot;;</span>
<span class="fc" id="L120">			break;</span>
		case &quot;COMS3011&quot;:
<span class="fc" id="L122">			ans = &quot;(Software Design Project)&quot;;</span>
			break;

		}
<span class="fc" id="L126">		return ans;</span>

	}

	public String[] getAllInfo() {
<span class="nc" id="L131">		return AllInfo.clone();</span>
	}

	@SuppressWarnings(&quot;unchecked&quot;)
<span class="fc" id="L135">	public ClaimForm() {</span>

<span class="fc" id="L137">	}</span>

	/*
	 * @Override public void enter(ViewChangeEvent event) { removeAllComponents();
	 * dbh=new DBHelper(); UserInfo tutor_info = ((MyUI) getUI()).get_user_info();
	 * 
	 * Label test=new
	 * Label(&quot;&lt;p style = \&quot;font-family:georgia,garamond,serif;font-size:30px;\&quot;&gt;\r\n&quot;
	 * + &quot;       &lt;b&gt;&lt;u&gt;Claim Form&lt;/u&gt;&lt;/b&gt; &quot; + &quot;      &lt;/p&gt;&quot; ,ContentMode.HTML);
	 * addComponent(test);
	 * 
	 * String[] params= {&quot;name&quot;,&quot;student_num&quot;}; String[] values=
	 * {tutor_info.name,tutor_info.student_num};
	 * 
	 * String ans=dbh.php_request(&quot;get_courses&quot;, params, values);
	 * filtered=dbh.parse_json_string(ans);
	 * ans=filtered.get(&quot;result&quot;).getAsJsonArray().toString();
	 * 
	 * ArrayList&lt;String&gt;new_courses=GetCourses(ans);
	 * 
	 * ArrayList&lt;String&gt; coursesArray = new ArrayList(); for(int
	 * i=0;i&lt;new_courses.size();i++) {
	 * coursesArray.add(new_courses.get(i)+&quot; &quot;+Course_corr(new_courses.get(i))); }
	 * 
	 * ArrayList&lt;String&gt; activityArray = new ArrayList();
	 * activityArray.add(&quot;Tutoring&quot;); activityArray.add(&quot;Invigilating&quot;);
	 * activityArray.add(&quot;Marking&quot;); activityArray.add(&quot;Other&quot;);
	 * 
	 * ArrayList&lt;String&gt; hour = new ArrayList(); hour.add(&quot;00&quot;); hour.add(&quot;01&quot;);
	 * hour.add(&quot;02&quot;); hour.add(&quot;03&quot;); hour.add(&quot;04&quot;); hour.add(&quot;05&quot;);
	 * hour.add(&quot;06&quot;); hour.add(&quot;07&quot;); hour.add(&quot;08&quot;); hour.add(&quot;09&quot;);
	 * hour.add(&quot;10&quot;); hour.add(&quot;11&quot;); hour.add(&quot;12&quot;); hour.add(&quot;13&quot;);
	 * hour.add(&quot;14&quot;); hour.add(&quot;15&quot;); hour.add(&quot;16&quot;); hour.add(&quot;17&quot;);
	 * hour.add(&quot;18&quot;); hour.add(&quot;19&quot;); hour.add(&quot;20&quot;); hour.add(&quot;21&quot;);
	 * hour.add(&quot;22&quot;); hour.add(&quot;23&quot;);
	 * 
	 * 
	 * ArrayList&lt;String&gt; minute = new ArrayList(); minute.add(&quot;00&quot;);
	 * minute.add(&quot;05&quot;); minute.add(&quot;10&quot;); minute.add(&quot;15&quot;); minute.add(&quot;20&quot;);
	 * minute.add(&quot;25&quot;); minute.add(&quot;30&quot;); minute.add(&quot;35&quot;); minute.add(&quot;40&quot;);
	 * minute.add(&quot;45&quot;); minute.add(&quot;50&quot;); minute.add(&quot;55&quot;); minute.add(&quot;60&quot;);
	 * 
	 * 
	 * 
	 * ComboBox&lt;String&gt; combobox = new ComboBox&lt;String&gt;(&quot;Course&quot;);
	 * combobox.setPlaceholder(&quot;Please fill in&quot;); combobox.setWidth(&quot;100%&quot;);
	 * combobox.setItems(coursesArray); addComponent(combobox);
	 * 
	 * TextField textfield = new TextField();
	 * textfield.setPlaceholder(&quot;Please fill in&quot;); textfield.setCaption(&quot;Venue&quot;);
	 * addComponent(textfield);
	 * 
	 * ComboBox&lt;String&gt; combobox2 = new ComboBox&lt;String&gt;(&quot;Type of Activity&quot;);
	 * combobox2.setPlaceholder(&quot;Please fill in&quot;);
	 * combobox2.setItems(activityArray); addComponent(combobox2);
	 * 
	 * ComboBox&lt;String&gt; startHour = new ComboBox&lt;String&gt;(&quot;Hour(s)&quot;);
	 * startHour.setPlaceholder(&quot;Please fill in&quot;); startHour.setItems(hour);
	 * 
	 * ComboBox&lt;String&gt; startMinute = new ComboBox&lt;String&gt;(&quot;Minutes&quot;);
	 * startMinute.setPlaceholder(&quot;Please fill in&quot;); startMinute.setItems(minute);
	 * 
	 * ComboBox&lt;String&gt; endHour = new ComboBox&lt;String&gt;(&quot;Hour(s)&quot;);
	 * endHour.setPlaceholder(&quot;Please fill in&quot;); endHour.setItems(hour);
	 * 
	 * ComboBox&lt;String&gt; endMinute = new ComboBox&lt;String&gt;(&quot;Minutes&quot;);
	 * endMinute.setPlaceholder(&quot;Please fill in&quot;); endMinute.setItems(minute);
	 * 
	 * 
	 * HorizontalLayout time1=new HorizontalLayout();
	 * 
	 * Label st=new
	 * Label(&quot;&lt;p style = \&quot;font-family:georgia,garamond,serif;font-size:15px;\&quot;&gt;\r\n&quot;
	 * + &quot;       &lt;u&gt;Start-Time&lt;/u&gt; &quot; + &quot;      &lt;/p&gt;&quot; ,ContentMode.HTML);
	 * 
	 * time1.addComponent(startHour); time1.addComponent(startMinute);
	 * time1.addComponent(st); addComponent(time1);
	 * 
	 * HorizontalLayout time2=new HorizontalLayout();
	 * 
	 * Label ed=new
	 * Label(&quot;&lt;p style = \&quot;font-family:georgia,garamond,serif;font-size:15px;\&quot;&gt;\r\n&quot;
	 * + &quot;       &lt;u&gt;End-Time&lt;/u&gt; &quot; + &quot;      &lt;/p&gt;&quot; ,ContentMode.HTML);
	 * 
	 * time2.addComponent(endHour); time2.addComponent(endMinute);
	 * time2.addComponent(ed); addComponent(time2);
	 * 
	 * DateTimeField start = new DateTimeField();
	 * start.setCaption(&quot;Select start of duration&quot;);
	 * //start.setValue(LocalDateTime.now()); addComponent(start);
	 * 
	 * DateTimeField end = new DateTimeField();
	 * end.setCaption(&quot;Select end of duration&quot;);
	 * //end.setValue(LocalDateTime.now()); addComponent(end);
	 * 
	 * 
	 * if(!combobox.isEmpty() &amp;&amp; !textfield.isEmpty() &amp;&amp; !combobox2.isEmpty()) {
	 * course = combobox.getValue().toString(); venue =
	 * textfield.getValue().toString(); activity = combobox2.getValue().toString();
	 * }
	 * 
	 * 
	 * 
	 * DateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);
	 * 
	 * Date today = new Date();
	 * 
	 * String day = today.toString().substring(8,10); String month =
	 * today.toString().substring(4,7); String year =
	 * today.toString().substring(24,today.toString().length());
	 * 
	 * String date = day + &quot; &quot; + month + &quot; &quot; + year;
	 * 
	 * Button see = new Button(&quot;SEE&quot;); //see.addClickListener(event -&gt;
	 * dbh.php_request(&quot;booking&quot;, params, values)); see.addClickListener(e -&gt;
	 * Notification.show(startHour.getValue().toString(), Type.TRAY_NOTIFICATION));
	 * addComponent(see);
	 * 
	 * 
	 * //navigator.addView(CONFIRMCLAIMFORM, new ClaimForm());
	 * 
	 * Button confirm = new Button(&quot;Confirm&quot;); addComponent(confirm);
	 * confirm.addClickListener(e -&gt; {
	 * 
	 * b = new Booking(tutor_info.name, tutor_info.student_num,
	 * EditString.editCourse((combobox.getValue().toString())),
	 * combobox2.getValue().toString(), textfield.getValue().toString(), date,
	 * startHour.getValue().toString() + &quot;:&quot; + startMinute.getValue().toString(),
	 * endHour.getValue().toString() + &quot;:&quot; + endMinute.getValue().toString());
	 * 
	 * removeAllComponents();
	 * 
	 * addComponent(c = new ConfirmClaimForm(tutor_info.name,
	 * tutor_info.student_num,
	 * EditString.editCourse((combobox.getValue().toString())),
	 * combobox2.getValue().toString(), textfield.getValue().toString(), date,
	 * startHour.getValue().toString() + &quot;:&quot; + startMinute.getValue().toString(),
	 * endHour.getValue().toString() + &quot;:&quot; + endMinute.getValue().toString()));
	 * 
	 * //navigator.addView(CONFIRMCLAIMFORM, c); //addComponent(c);
	 * //getUI().getNavigator().navigateTo(&quot;confirm&quot;);
	 * 
	 * }); }
	 */

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>